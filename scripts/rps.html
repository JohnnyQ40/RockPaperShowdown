<!DOCTYPE html>
<html>

<head>
    <title>Rock Paper Showdown | Game</title>
    <style>
        body {
            margin: 0;
            padding-bottom: 3rem;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
        }

    </style>
</head>

<body>
        <h1 class="time" style="text-align:center"></h1>
        <button id="button0"><img src="../public/images/rock.png" alt="Rock"></button>
        <button id="button1"><img src="../public/images/paper.png" alt="Paper"></button>
        <button id="button2"><img src="../public/images/scissors.png" alt="Scissors"></button>
    
    <script src="https://cdn.socket.io/4.5.4/socket.io.min.js"></script>
    <script>
        var socket = io();
        var timerEl = document.querySelector('.time');
        var button0 = document.getElementById('button0');
        var button1 = document.getElementById('button1');
        var button2 = document.getElementById('button2');
        var input = document.getElementById('input');

        var secondsLeft = 15;

            function setTime() {
                // Sets interval in variable
                var timerInterval = setInterval(function () {
                    secondsLeft--;
                    timeEl.textContent ="Choose your fighter: "+ secondsLeft;

                    if (secondsLeft === 0) {
                        // Stops execution of action at set interval
                        clearInterval(timerInterval);
                        // Calls function to create and append image
                        sendMessage();
                    }

                }, 1500);
            }

            function sendMessage() {
                    timeEl.textContent = " ";
                    var imgEl = document.createElement("img");
                    imgEl.setAttribute("src", "images/image_1.jpg");
                    mainEl.appendChild(imgEl);

                }

                setTime();

        button0.addEventListener('submit', function (e) {
            e.preventDefault();
                socket.emit('selection', 0);
        });
        button1.addEventListener('submit', function (e) {
            e.preventDefault();
                socket.emit('selection', 1);
        });
        button2.addEventListener('submit', function (e) {
            e.preventDefault();
                socket.emit('selection', 2);
        });
        socket.on('selection', function (selection) {
            var item = document.createElement('li');
            item.textContent = msg;
            messages.appendChild(item);
            window.scrollTo(0, document.body.scrollHeight);
        });
    </script>
</body>

</html>